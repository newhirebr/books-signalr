name: Flutter CI/CD

on:
  push:
    branches:
      - signal-r

jobs:
  build:
    runs-on: macos-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Setup Flutter
      uses: subosito/flutter-action@v2
      with:
        flutter-version: '3.13.9' # use the version you need

    - name: Install dependencies
      run: flutter pub get

    - name: Install CocoaPods dependencies
      run: cd ios && pod install && cd ..

    - name: Build iOS
      run: flutter build ios --release --no-codesign
      env:
        XCODE_BUILD_SETTINGS: "-allowProvisioningUpdates"
        
    - name: Install Apple certificate and provisioning profile
      env:
        APPLE_CERTIFICATE: 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
        P12_PASSWORD: myyyynewwwkeyychaaainnpass
        PROVISIONING_PROFILE: MII5AAYJKoZIhvcNAQcCoII48TCCOO0CAQExCzAJBgUrDgMCGgUAMIIpDQYJKoZIhvcNAQcBoIIo/gSCKPo8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCI/Pgo8IURPQ1RZUEUgcGxpc3QgUFVCTElDICItLy9BcHBsZS8vRFREIFBMSVNUIDEuMC8vRU4iICJodHRwOi8vd3d3LmFwcGxlLmNvbS9EVERzL1Byb3BlcnR5TGlzdC0xLjAuZHRkIj4KPHBsaXN0IHZlcnNpb249IjEuMCI+CjxkaWN0PgoJPGtleT5BcHBJRE5hbWU8L2tleT4KCTxzdHJpbmc+c2lnbmFsIHIgYm9va3M8L3N0cmluZz4KCTxrZXk+QXBwbGljYXRpb25JZGVudGlmaWVyUHJlZml4PC9rZXk+Cgk8YXJyYXk+Cgk8c3RyaW5nPk04WTJSUDg2NzU8L3N0cmluZz4KCTwvYXJyYXk+Cgk8a2V5PkNyZWF0aW9uRGF0ZTwva2V5PgoJPGRhdGU+MjAyMy0xMS0yN1QwOToyOTozM1o8L2RhdGU+Cgk8a2V5PlBsYXRmb3JtPC9rZXk+Cgk8YXJyYXk+CgkJPHN0cmluZz5pT1M8L3N0cmluZz4KCQk8c3RyaW5nPnhyT1M8L3N0cmluZz4KCQk8c3RyaW5nPnZpc2lvbk9TPC9zdHJpbmc+Cgk8L2FycmF5PgoJPGtleT5Jc1hjb2RlTWFuYWdlZDwva2V5PgoJPGZhbHNlLz4KCTxrZXk+RGV2ZWxvcGVyQ2VydGlmaWNhdGVzPC9rZXk+Cgk8YXJyYXk+CgkJPGRhdGE+TUlJRjV6Q0NCTStnQXdJQkFnSVFBNFExN2hIWllmTHhvQUxLSzRjTXZ6QU5CZ2txaGtpRzl3MEJBUXNGQURCMU1VUXdRZ1lEVlFRREREdEJjSEJzWlNCWGIzSnNaSGRwWkdVZ1JHVjJaV3h2Y0dWeUlGSmxiR0YwYVc5dWN5QkRaWEowYVdacFkyRjBhVzl1SUVGMWRHaHZjbWwwZVRFTE1Ba0dBMVVFQ3d3Q1J6TXhFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEl6TVRFeU1URXdNamN3TkZvWERUSTBNVEV5TURFd01qY3dNMW93Z2EweEdqQVlCZ29Ka2lhSmsvSXNaQUVCREFwTk9Ga3lVbEE0TmpjMU1VWXdSQVlEVlFRREREMUJjSEJzWlNCRWFYTjBjbWxpZFhScGIyNDZJRXgxYm1FZ1VtVnpaV0Z5WTJnZ1EyOXNiR1ZqZEdsMlpTQk1URU1nS0UwNFdUSlNVRGcyTnpVcE1STXdFUVlEVlFRTERBcE5PRmt5VWxBNE5qYzFNU1V3SXdZRFZRUUtEQnhNZFc1aElGSmxjMlZoY21Ob0lFTnZiR3hsWTNScGRtVWdURXhETVFzd0NRWURWUVFHRXdKVlV6Q0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUxUL2gzQ3N4L2R3VW1sQ3d4TXhlSDdRdlNsUUZXOFYzcmZRbDdKTFV1VmFsbURVNUdiZTZ4cWxZYlUyY1R3T0hjczRRSDJqZ3d2N2RsaDY2dUVGaE8vSFVTbyt6dEE0MURlM2tleFc3bDVqZS82WTJTUUpDdDhoZ2ZUMExWMmVFMWtCRlN6THZpTVdCTXBsZm9KcTdyUVN6UjhON2RFY3hvQi9NaXBzcC9mYmJRUmhKL1krY3BmdWM4SE5RMkhRNldWVU1qa21qdFZGZlc2eGJpcVBKQmdhZHprYTZXRlZkTzNmVmU0aTVzWE9RMER4Sk9XUjQwa0l1WlE1Q3l3MzVOaG9ERDZlaVF2eFl4K25qdVFLSHRtbkxLTHNwZzNXdDVjbW9GalZ0QytvYlAvYStmcmpOWUJHbnN6SWFmdGMyUHpRUk5DNm1kOXBxSHM0WkZtWTlja0NBd0VBQWFPQ0FqZ3dnZ0kwTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVQ2Y3QUZaRDVyMlFLa2hLNUppaGpESmZzcDdJd2NBWUlLd1lCQlFVSEFRRUVaREJpTUMwR0NDc0dBUVVGQnpBQ2hpRm9kSFJ3T2k4dlkyVnlkSE11WVhCd2JHVXVZMjl0TDNkM1pISm5NeTVrWlhJd01RWUlLd1lCQlFVSE1BR0dKV2gwZEhBNkx5OXZZM053TG1Gd2NHeGxMbU52YlM5dlkzTndNRE10ZDNka2NtY3pNRFV3Z2dFZUJnTlZIU0FFZ2dFVk1JSUJFVENDQVEwR0NTcUdTSWIzWTJRRkFUQ0IvekNCd3dZSUt3WUJCUVVIQWdJd2diWU1nYk5TWld4cFlXNWpaU0J2YmlCMGFHbHpJR05sY25ScFptbGpZWFJsSUdKNUlHRnVlU0J3WVhKMGVTQmhjM04xYldWeklHRmpZMlZ3ZEdGdVkyVWdiMllnZEdobElIUm9aVzRnWVhCd2JHbGpZV0pzWlNCemRHRnVaR0Z5WkNCMFpYSnRjeUJoYm1RZ1kyOXVaR2wwYVc5dWN5QnZaaUIxYzJVc0lHTmxjblJwWm1sallYUmxJSEJ2YkdsamVTQmhibVFnWTJWeWRHbG1hV05oZEdsdmJpQndjbUZqZEdsalpTQnpkR0YwWlcxbGJuUnpMakEzQmdnckJnRUZCUWNDQVJZcmFIUjBjSE02THk5M2QzY3VZWEJ3YkdVdVkyOXRMMk5sY25ScFptbGpZWFJsWVhWMGFHOXlhWFI1THpBV0JnTlZIU1VCQWY4RUREQUtCZ2dyQmdFRkJRY0RBekFkQmdOVkhRNEVGZ1FVYlluYlZ3ZFRROHVYMWFMU0wySlFCbDNnKzh3d0RnWURWUjBQQVFIL0JBUURBZ2VBTUJNR0NpcUdTSWIzWTJRR0FRY0JBZjhFQWdVQU1CTUdDaXFHU0liM1kyUUdBUVFCQWY4RUFnVUFNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUFSZkdYWVF6Q2Y2cXJpQ2dHbzNtblZaNE5SdkJUeHpYTGR3cE9QWm5TOXR0QWZCRkF6REFWaXdPT0g2QU1DQTFnK2l0WkJNZThLazMra2JJQ0hxZ0tVNVprdGowVGZnTjYzanlDR3JueHVTOGI5M0ZYZERaNlphU2Nad3FSR2JhNzdVMVhXei9tNHdnM3NobEFRa2dGZHRWU3M4VHRYYlllSzVxQVR4RHNXdHlRUFlDTWgrbDY0WVplUDIzRjRkVzN4YzdyMlNJZ1ZkdU1hYXhUL0tkc2RBc1NNT2ZXdWd3M0VJc0hEc1p4VkhpSFRZc2gzdlZWYlFEUG5ES3lGdTB5QmphT29rQ0F6YVpxVVFuSVdLcE1MbERQZ0Y1V1lKYjdmVkp6VytpNXN0OVB6OXZMMWM5c1hHS1g1TlVlcUs2MXJ1VkluTnNCWFlpa05QUkhzUllENzwvZGF0YT4KCTwvYXJyYXk+CgoJPGtleT5ERVItRW5jb2RlZC1Qcm9maWxlPC9rZXk+Cgk8ZGF0YT5NSUlRWVFZSktvWklodmNOQVFjQ29JSVFVakNDRUU0Q0FRRXhEekFOQmdsZ2hrZ0JaUU1FQWdFRkFEQ0NCaHNHQ1NxR1NJYjNEUUVIQWFDQ0Jnd0VnZ1lJTVlJR0JEQU1EQWRXWlhKemFXOXVBZ0VCTUJBTUNsUnBiV1ZVYjB4cGRtVUNBZ0ZuTUJNTURrbHpXR052WkdWTllXNWhaMlZrQVFFQU1Cc01DVUZ3Y0VsRVRtRnRaUXdPYzJsbmJtRnNJSElnWW05dmEzTXdIUXdNUTNKbFlYUnBiMjVFWVhSbEZ3MHlNekV4TWpjd09USTVNek5hTUI0TURsUmxZVzFKWkdWdWRHbG1hV1Z5TUF3TUNrMDRXVEpTVURnMk56VXdId3dPUlhod2FYSmhkR2x2YmtSaGRHVVhEVEkwTVRFeU1ERXdNamN3TTFvd0lBd1hVSEp2Wm1sc1pVUnBjM1J5YVdKMWRHbHZibFI1Y0dVTUJVRkVTRTlETUNFTUNGQnNZWFJtYjNKdE1CVU1BMmxQVXd3RWVISlBVd3dJZG1semFXOXVUMU13SkF3RVRtRnRaUXdjYzJsbmJtRnNjaUJ3Y205MmFYTnBiMjVwYm1jZ2NISnZabWxzWlRBb0RBaFVaV0Z0VG1GdFpRd2NUSFZ1WVNCU1pYTmxZWEpqYUNCRGIyeHNaV04wYVhabElFeE1RekFyREJ0QmNIQnNhV05oZEdsdmJrbGtaVzUwYVdacFpYSlFjbVZtYVhnd0RBd0tUVGhaTWxKUU9EWTNOVEFzREFSVlZVbEVEQ1JqTnpBeE1EbGpaUzB3TUdVekxUUXdaVFV0WWpZNVl5MW1NbUU1TkRFM1pUUTFZbU13T3d3VlJHVjJaV3h2Y0dWeVEyVnlkR2xtYVdOaGRHVnpNQ0lFSU50czVvOFRMbDJYd2RtYlFHeFBCU0VFSkZDbUduN1BZVlliME1jS3FKaFJNSUhXREF4RmJuUnBkR3hsYldWdWRITndnY1VDQVFHd2diOHdPZ3dXWVhCd2JHbGpZWFJwYjI0dGFXUmxiblJwWm1sbGNnd2dUVGhaTWxKUU9EWTNOUzVqYjIwdWMybG5ibUZzY21SbGJXOHVZbTl2YTNNd01Rd2pZMjl0TG1Gd2NHeGxMbVJsZG1Wc2IzQmxjaTUwWldGdExXbGtaVzUwYVdacFpYSU1DazA0V1RKU1VEZzJOelV3RXd3T1oyVjBMWFJoYzJzdFlXeHNiM2NCQVFBd09Rd1dhMlY1WTJoaGFXNHRZV05qWlhOekxXZHliM1Z3Y3pBZkRBeE5PRmt5VWxBNE5qYzFMaW9NRDJOdmJTNWhjSEJzWlM1MGIydGxiakNDQTBnTUVsQnliM1pwYzJsdmJtVmtSR1YyYVdObGN6Q0NBekFNR1RBd01EQTRNREl3TFRBd01FVTNORGd5TVRReU9EUXdNa1VNR1RBd01EQTRNREl3TFRBd01EVXhOVEl4TTBVek1EQXdNMEVNR1RBd01EQTRNRE13TFRBd01VRXdPRFE0TWpFME1qUXdNa1VNR1RBd01EQTRNRE13TFRBd01Ua3pPRU0yTWpJek1qZ3dNa1VNR1RBd01EQTRNRE13TFRBd01UUXhORFEyTURJNU1EUXdNa1VNS0RGa05EazJaRFkxTTJSaE1UZ3laR00xWldFeE5tSTJZVEJqWWpWbE5qQmpaRFUwWkdJMllUY01HVEF3TURBNE1URXdMVEF3TUVFeU5USXhNVVU1TXpnd01VVU1LRE5tT0RoaU9UUXhNek13T1dFMlpXSmtaV1ZpWkRsaU5tVm1NbUV4WlRSbE5tTTVOV013TlRnTUdUQXdNREE0TURJd0xUQXdNRE14T0RnME1qSkJNekF3TWtVTUdUQXdNREE0TVRFd0xUQXdNVVV6TlRKRE1URXhNVGd3TVVVTUdUQXdNREE0TVRBeExUQXdNVUV4T0RReU1FRTROakF3TVVVTUdUQXdNREE0TVRFd0xUQXdNREl3UkVSRk1UUTRRVGd3TVVVTUdUQXdNREE0TVRBeExUQXdNREUwTkRReE1URTBOREF3TVVVTUdUQXdNREE0TURNd0xUQXdNVFF5TlRGRk1rVkdPVFF3TWtVTUdUQXdNREE0TVRBeExUQXdNRU15TkRneU1VVTROREF3TVVVTUdUQXdNREE0TVRFd0xUQXdNVEl5UXpVeE1qWTVNVGd3TVVVTUdUQXdNREE0TURJd0xUQXdNRUUyTlRoQk1FTTFNemd3TWtVTUdUQXdNREE0TVRFd0xUQXdNVFV4T1RrMk1ERXdNRFF3TVVVTUtEYzNOelUyWm1KbVltVXdOMkl4WXpBd01XRmtOV00wWmpCaE5UaGxOMlJoWm1NNU5HRXlOV0lNR1RBd01EQTRNVEV3TFRBd01FTXdOVE5ETWpaQk1EUXdNVVVNR1RBd01EQTRNVEV3TFRBd01FTTJSRUV5TWtVd05qZ3dNVVVNS0dGa1lUTTFaakJtTnpJMU9XWXpZekk0T1dVMVptTTNaR1F6TURjME4yUTNZVE5sT0RNek5XSU1HVEF3TURBNE1ETXdMVEF3TVRJM01ESkJNRU00T1Rnd01rVU1HVEF3TURBNE1UQXhMVEF3TUVVMVEwUXhNMEZCTURBd01VVU1HVEF3TURBNE1UQXhMVEF3TVRNeE9ETXlNelkyT1RBd01VVU1HVEF3TURBNE1URXdMVEF3TVVNM09VTXdNME5GTXpnd01VVU1HVEF3TURBNE1ESXdMVEF3TURJMk1ETkZNMEV3UWpBd01rVU1HVEF3TURBNE1URXdMVEF3TVRreU5UUXdNalpFTVRRd01VV2dnZ2c3TUlJQ1F6Q0NBY21nQXdJQkFnSUlMY1g4aU5MRlM1VXdDZ1lJS29aSXpqMEVBd013WnpFYk1Ca0dBMVVFQXd3U1FYQndiR1VnVW05dmRDQkRRU0F0SUVjek1TWXdKQVlEVlFRTERCMUJjSEJzWlNCRFpYSjBhV1pwWTJGMGFXOXVJRUYxZEdodmNtbDBlVEVUTUJFR0ExVUVDZ3dLUVhCd2JHVWdTVzVqTGpFTE1Ba0dBMVVFQmhNQ1ZWTXdIaGNOTVRRd05ETXdNVGd4T1RBMldoY05Nemt3TkRNd01UZ3hPVEEyV2pCbk1Sc3dHUVlEVlFRRERCSkJjSEJzWlNCU2IyOTBJRU5CSUMwZ1J6TXhKakFrQmdOVkJBc01IVUZ3Y0d4bElFTmxjblJwWm1sallYUnBiMjRnUVhWMGFHOXlhWFI1TVJNd0VRWURWUVFLREFwQmNIQnNaU0JKYm1NdU1Rc3dDUVlEVlFRR0V3SlZVekIyTUJBR0J5cUdTTTQ5QWdFR0JTdUJCQUFpQTJJQUJKanBMejFBY3FUdGt5SnlnUk1jM1JDVjhjV2pUbkhjRkJiWkR1V21CU3AzWkh0ZlRqalR1eHhFdFgvMUg3WXlZbDNKNllSYlR6QlBFVm9BL1ZoWURLWDFEeXhOQjBjVGRkcVhsNWR2TVZ6dEs1MTdJRHZZdVZUWlhwbWtPbEVLTWFOQ01FQXdIUVlEVlIwT0JCWUVGTHV3M3FGWU00aWFwSXFaM3I2OTY2L2F5eVNyTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3RGdZRFZSMFBBUUgvQkFRREFnRUdNQW9HQ0NxR1NNNDlCQU1EQTJnQU1HVUNNUUNENmNIRUZsNGFYVFFZMmUzdjlHd09BRVpMdU4reVJoSEZELzNtZW95aHBtdk93Z1BVblBXVHhuUzRhdCtxSXhVQ01HMW1paERLMUEzVVQ4Mk5RejYwaW1PbE0yN2piZG9YdDJRZnlGTW0rWWhpZERrTEYxdkxVYWdNNkJnRDU2S3lLRENDQXVZd2dnSnRvQU1DQVFJQ0NETU43dmkvVEdndU1Bb0dDQ3FHU000OUJBTURNR2N4R3pBWkJnTlZCQU1NRWtGd2NHeGxJRkp2YjNRZ1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEUzTURJeU1qSXlNak15TWxvWERUTXlNREl4T0RBd01EQXdNRm93Y2pFbU1DUUdBMVVFQXd3ZFFYQndiR1VnVTNsemRHVnRJRWx1ZEdWbmNtRjBhVzl1SUVOQklEUXhKakFrQmdOVkJBc01IVUZ3Y0d4bElFTmxjblJwWm1sallYUnBiMjRnUVhWMGFHOXlhWFI1TVJNd0VRWURWUVFLREFwQmNIQnNaU0JKYm1NdU1Rc3dDUVlEVlFRR0V3SlZVekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCQVpycEZadmZaOG4wYzQyanBJYlZzMVVObVJLeVpSb21mckpJSDdpOVZnUDNPSnE2eGxITHk3dk82UUJ0QUVUUkh4YUpxMmduQ2tsaXVYbUJtOVBmRnFqZ2Zjd2dmUXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QWZCZ05WSFNNRUdEQVdnQlM3c042aFdET0ltcVNLbWQ2K3ZldXYyc3NrcXpCR0JnZ3JCZ0VGQlFjQkFRUTZNRGd3TmdZSUt3WUJCUVVITUFHR0ttaDBkSEE2THk5dlkzTndMbUZ3Y0d4bExtTnZiUzl2WTNOd01ETXRZWEJ3YkdWeWIyOTBZMkZuTXpBM0JnTlZIUjhFTURBdU1DeWdLcUFvaGlab2RIUndPaTh2WTNKc0xtRndjR3hsTG1OdmJTOWhjSEJzWlhKdmIzUmpZV2N6TG1OeWJEQWRCZ05WSFE0RUZnUVVla2U2T0lvVkpFZ2lSczIranhva2V6UURLbWt3RGdZRFZSMFBBUUgvQkFRREFnRUdNQkFHQ2lxR1NJYjNZMlFHQWhFRUFnVUFNQW9HQ0NxR1NNNDlCQU1EQTJjQU1HUUNNQlVNcVk3R3I1WnBhNmVmM1Z6VUExbHNybExVWU1hTGR1QzN4YUx4Q1h6Z211TnJzZU44TWNRbmVxZU9pZjJyZHdJd1lUTWc4U24vK1ljeXJpbklaRDEyZTFHazBnSXZkcjVnSXBIeDFUcDEzTFRpeGlxVy9zWUozRXBQMVNUdy9NcXlNSUlEQmpDQ0FxMmdBd0lCQWdJSUVHZnVEbXF4dFdJd0NnWUlLb1pJemowRUF3SXdjakVtTUNRR0ExVUVBd3dkUVhCd2JHVWdVM2x6ZEdWdElFbHVkR1ZuY21GMGFXOXVJRU5CSURReEpqQWtCZ05WQkFzTUhVRndjR3hsSUVObGNuUnBabWxqWVhScGIyNGdRWFYwYUc5eWFYUjVNUk13RVFZRFZRUUtEQXBCY0hCc1pTQkpibU11TVFzd0NRWURWUVFHRXdKVlV6QWVGdzB5TXpBME1USXdNREk0TlRsYUZ3MHlOekExTVRBeU16QTFNREJhTUU0eEtqQW9CZ05WQkFNTUlWZFhSRklnVUhKdmRtbHphVzl1YVc1bklGQnliMlpwYkdVZ1UybG5ibWx1WnpFVE1CRUdBMVVFQ2d3S1FYQndiR1VnU1c1akxqRUxNQWtHQTFVRUJoTUNWVk13V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkNBQVJNdlVMSE40bGZBWG93TGZuQVlTK2VyYlVGU0E3VzZwWHFYMCt4cTJpbVZDSmtRY09zTzFaa2J1SzZ5UkpmUFlzaE1EVTZvNDJXQzdNSW9oYWlTZkxubzRJQlR6Q0NBVXN3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlI2UjdvNGloVWtTQ0pHemI2UEdpUjdOQU1xYVRCQkJnZ3JCZ0VGQlFjQkFRUTFNRE13TVFZSUt3WUJCUVVITUFHR0pXaDBkSEE2THk5dlkzTndMbUZ3Y0d4bExtTnZiUzl2WTNOd01ETXRZWE5wWTJFME1ETXdnWllHQTFVZElBU0JqakNCaXpDQmlBWUpLb1pJaHZkalpBVUJNSHN3ZVFZSUt3WUJCUVVIQWdJd2JReHJWR2hwY3lCalpYSjBhV1pwWTJGMFpTQnBjeUIwYnlCaVpTQjFjMlZrSUdWNFkyeDFjMmwyWld4NUlHWnZjaUJtZFc1amRHbHZibk1nYVc1MFpYSnVZV3dnZEc4Z1FYQndiR1VnVUhKdlpIVmpkSE1nWVc1a0wyOXlJRUZ3Y0d4bElIQnliMk5sYzNObGN5NHdIUVlEVlIwT0JCWUVGQTRGZ1ZuUFM4MVF1Q3orVytCQmdhcy9NOC92TUE0R0ExVWREd0VCL3dRRUF3SUhnREFQQmdrcWhraUc5Mk5rREJNRUFnVUFNQW9HQ0NxR1NNNDlCQU1DQTBjQU1FUUNJRXBkZmNTV1M2MEtqbVdHdkxlUGR4S2NLeU8veTlpZkM0VzhHS1Z1NER2TkFpQm9nK2ZDdGNkWWRRcWVOeEIzc2xVU0dJbFFVNFdWY0c4VnNTeGUxdktjTGpHQ0FkZ3dnZ0hVQWdFQk1INHdjakVtTUNRR0ExVUVBd3dkUVhCd2JHVWdVM2x6ZEdWdElFbHVkR1ZuY21GMGFXOXVJRU5CSURReEpqQWtCZ05WQkFzTUhVRndjR3hsSUVObGNuUnBabWxqWVhScGIyNGdRWFYwYUc5eWFYUjVNUk13RVFZRFZRUUtEQXBCY0hCc1pTQkpibU11TVFzd0NRWURWUVFHRXdKVlV3SUlFR2Z1RG1xeHRXSXdEUVlKWUlaSUFXVURCQUlCQlFDZ2dla3dHQVlKS29aSWh2Y05BUWtETVFzR0NTcUdTSWIzRFFFSEFUQWNCZ2txaGtpRzl3MEJDUVV4RHhjTk1qTXhNVEkzTURreU9UTXpXakFxQmdrcWhraUc5dzBCQ1RReEhUQWJNQTBHQ1dDR1NBRmxBd1FDQVFVQW9Rb0dDQ3FHU000OUJBTUNNQzhHQ1NxR1NJYjNEUUVKQkRFaUJDRCtzNkE4SS91VWJoN0tuL1FLK3ZzNU1XY2E1NW1sV2VKbWtxdkVaMVJ1aERCU0Jna3Foa2lHOXcwQkNROHhSVEJETUFvR0NDcUdTSWIzRFFNSE1BNEdDQ3FHU0liM0RRTUNBZ0lBZ0RBTkJnZ3Foa2lHOXcwREFnSUJRREFIQmdVckRnTUNCekFOQmdncWhraUc5dzBEQWdJQktEQUtCZ2dxaGtqT1BRUURBZ1JJTUVZQ0lRQzM0dEk4REI3ZDY2aSs2MzJnaG5qZm1sK3pxUnRXUDVQV3FZaVF4N2JlWndJaEFPRXE0MmtmQW1LcWk4YlpaMXdxcldzbHZOZE85S1VQaVNnbmNRV3VrdXdkPC9kYXRhPgoJCQkJCQkJCQoJPGtleT5FbnRpdGxlbWVudHM8L2tleT4KCTxkaWN0PgoJCQkJCgkJCQk8a2V5PmFwcGxpY2F0aW9uLWlkZW50aWZpZXI8L2tleT4KCQk8c3RyaW5nPk04WTJSUDg2NzUuY29tLnNpZ25hbHJkZW1vLmJvb2tzPC9zdHJpbmc+CgkJCQkKCQkJCTxrZXk+a2V5Y2hhaW4tYWNjZXNzLWdyb3Vwczwva2V5PgoJCTxhcnJheT4KCQkJCTxzdHJpbmc+TThZMlJQODY3NS4qPC9zdHJpbmc+CgkJCQk8c3RyaW5nPmNvbS5hcHBsZS50b2tlbjwvc3RyaW5nPgoJCTwvYXJyYXk+CgkJCQkKCQkJCTxrZXk+Z2V0LXRhc2stYWxsb3c8L2tleT4KCQk8ZmFsc2UvPgoJCQkJCgkJCQk8a2V5PmNvbS5hcHBsZS5kZXZlbG9wZXIudGVhbS1pZGVudGlmaWVyPC9rZXk+CgkJPHN0cmluZz5NOFkyUlA4Njc1PC9zdHJpbmc+CgoJPC9kaWN0PgoJPGtleT5FeHBpcmF0aW9uRGF0ZTwva2V5PgoJPGRhdGU+MjAyNC0xMS0yMFQxMDoyNzowM1o8L2RhdGU+Cgk8a2V5Pk5hbWU8L2tleT4KCTxzdHJpbmc+c2lnbmFsciBwcm92aXNpb25pbmcgcHJvZmlsZTwvc3RyaW5nPgoJPGtleT5Qcm92aXNpb25lZERldmljZXM8L2tleT4KCTxhcnJheT4KCQk8c3RyaW5nPjAwMDA4MDIwLTAwMEU3NDgyMTQyODQwMkU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MDIwLTAwMDUxNTIxM0UzMDAwM0E8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MDMwLTAwMUEwODQ4MjE0MjQwMkU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MDMwLTAwMTkzOEM2MjIzMjgwMkU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MDMwLTAwMTQxNDQ2MDI5MDQwMkU8L3N0cmluZz4KCQk8c3RyaW5nPjFkNDk2ZDY1M2RhMTgyZGM1ZWExNmI2YTBjYjVlNjBjZDU0ZGI2YTc8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MTEwLTAwMEEyNTIxMUU5MzgwMUU8L3N0cmluZz4KCQk8c3RyaW5nPjNmODhiOTQxMzMwOWE2ZWJkZWViZDliNmVmMmExZTRlNmM5NWMwNTg8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MDIwLTAwMDMxODg0MjJBMzAwMkU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MTEwLTAwMUUzNTJDMTExMTgwMUU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MTAxLTAwMUExODQyMEE4NjAwMUU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MTEwLTAwMDIwRERFMTQ4QTgwMUU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MTAxLTAwMDE0NDQxMTE0NDAwMUU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MDMwLTAwMTQyNTFFMkVGOTQwMkU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MTAxLTAwMEMyNDgyMUU4NDAwMUU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MTEwLTAwMTIyQzUxMjY5MTgwMUU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MDIwLTAwMEE2NThBMEM1MzgwMkU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MTEwLTAwMTUxOTk2MDEwMDQwMUU8L3N0cmluZz4KCQk8c3RyaW5nPjc3NzU2ZmJmYmUwN2IxYzAwMWFkNWM0ZjBhNThlN2RhZmM5NGEyNWI8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MTEwLTAwMEMwNTNDMjZBMDQwMUU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MTEwLTAwMEM2REEyMkUwNjgwMUU8L3N0cmluZz4KCQk8c3RyaW5nPmFkYTM1ZjBmNzI1OWYzYzI4OWU1ZmM3ZGQzMDc0N2Q3YTNlODMzNWI8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MDMwLTAwMTI3MDJBMEM4OTgwMkU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MTAxLTAwMEU1Q0QxM0FBMDAwMUU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MTAxLTAwMTMxODMyMzY2OTAwMUU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MTEwLTAwMUM3OUMwM0NFMzgwMUU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MDIwLTAwMDI2MDNFM0EwQjAwMkU8L3N0cmluZz4KCQk8c3RyaW5nPjAwMDA4MTEwLTAwMTkyNTQwMjZEMTQwMUU8L3N0cmluZz4KCTwvYXJyYXk+Cgk8a2V5PlRlYW1JZGVudGlmaWVyPC9rZXk+Cgk8YXJyYXk+CgkJPHN0cmluZz5NOFkyUlA4Njc1PC9zdHJpbmc+Cgk8L2FycmF5PgoJPGtleT5UZWFtTmFtZTwva2V5PgoJPHN0cmluZz5MdW5hIFJlc2VhcmNoIENvbGxlY3RpdmUgTExDPC9zdHJpbmc+Cgk8a2V5PlRpbWVUb0xpdmU8L2tleT4KCTxpbnRlZ2VyPjM1OTwvaW50ZWdlcj4KCTxrZXk+VVVJRDwva2V5PgoJPHN0cmluZz5jNzAxMDljZS0wMGUzLTQwZTUtYjY5Yy1mMmE5NDE3ZTQ1YmM8L3N0cmluZz4KCTxrZXk+VmVyc2lvbjwva2V5PgoJPGludGVnZXI+MTwvaW50ZWdlcj4KPC9kaWN0Pgo8L3BsaXN0PqCCDT8wggQ0MIIDHKADAgECAghHPExh8pmI1DANBgkqhkiG9w0BAQsFADBzMS0wKwYDVQQDDCRBcHBsZSBpUGhvbmUgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkxIDAeBgNVBAsMF0NlcnRpZmljYXRpb24gQXV0aG9yaXR5MRMwEQYDVQQKDApBcHBsZSBJbmMuMQswCQYDVQQGEwJVUzAeFw0yMzA0MTEyMjIzNTlaFw0yODA0MDkyMjIzNThaMFkxNTAzBgNVBAMMLEFwcGxlIGlQaG9uZSBPUyBQcm92aXNpb25pbmcgUHJvZmlsZSBTaWduaW5n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
        KEYCHAIN_PASSWORD: 745HX£325FH!
      run: |
        # create variables
        CERTIFICATE_PATH=$RUNNER_TEMP/build_certificate.p12
        PP_PATH=$RUNNER_TEMP/build_pp.mobileprovision
        KEYCHAIN_PATH=$RUNNER_TEMP/app-signing.keychain-db

        # import certificate and provisioning profile from secrets
        echo -n "$APPLE_CERTIFICATE" | base64 --decode -o $CERTIFICATE_PATH
        echo -n "$PROVISIONING_PROFILE" | base64 --decode -o $PP_PATH

        # create temporary keychain
        security create-keychain -p "$KEYCHAIN_PASSWORD" $KEYCHAIN_PATH
        security set-keychain-settings -lut 21600 $KEYCHAIN_PATH
        security unlock-keychain -p "$KEYCHAIN_PASSWORD" $KEYCHAIN_PATH

        # import certificate to keychain
        security import $CERTIFICATE_PATH -P "$P12_PASSWORD" -A -t cert -f pkcs12 -k $KEYCHAIN_PATH
        security list-keychain -d user -s $KEYCHAIN_PATH

        # apply provisioning profile
        mkdir -p ~/Library/MobileDevice/Provisioning\ Profiles
        cp $PP_PATH ~/Library/MobileDevice/Provisioning\ Profiles

    - name: Deploy to TestFlight
      run: |
        # Build IPA
        xcodebuild clean -workspace "ios/Runner.xcworkspace" -scheme "Runner" -configuration Release
        xcodebuild archive -workspace "ios/Runner.xcworkspace" -scheme "Runner" -configuration Release -archivePath "build/ios/Runner.xcarchive"
        xcodebuild -exportArchive -archivePath "build/ios/Runner.xcarchive" -exportOptionsPlist "exportOptions.plist" -exportPath "build/ios/"

        # Upload to TestFlight
        altool --upload-app -f "build/ios/Runner.ipa" -t ios -u mmk100@mail.aub.edu -p hveh-blaw-okdn-anbuc --verbose
      env:
        ITC_USER: mmk100@mail.aub.edu
        ITC_APP_SPECIFIC_PASSWORD: hveh-blaw-okdn-anbuc
